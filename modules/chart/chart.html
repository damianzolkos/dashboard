<!--
####################################

        chart module

        using chart.js
        https://www.chartjs.org/
        https://github.com/chartjs/Chart.js

####################################
-->

<!-- additional config files -->

<!-- module scecific styles -->

<!-- module specific scripts -->
<script>
  let ctx1 = document.getElementById('myChart');

  let data = {
    datasets: [{
        backgroundColor: '#ff4081',
        borderColor: '#ff4081',
        borderWidth: 3,
        fill: false,
        pointRadius: 4,
        pointRadiusHover: 4,
        pointBorderWidth: 0
      },
      {
        backgroundColor: 'blue',
        borderColor: 'blue',
        borderWidth: 3,
        fill: false
      }
    ]
  };

  let options = {
    responsive: true,
    legend: {
      display: false
    },
    tooltips: {
      mode: 'index',
      intersect: true,
    },
    scales: {
      xAxes: [{
        display: true,
        scaleLabel: {
          display: false,
          labelString: ''
        }
      }],
      yAxes: [{
        ticks: {
          suggestedMin: 0,
          suggestedMax: 0
        },
        display: true,
        scaleLabel: {
          display: false,
          labelString: ''
        }
      }]
    }
  };

  function renderChart() {
    data.labels = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    data.datasets[0].data = [4, 2, 7, 3, 9, 4, 1, 4, 2];

    document.getElementById('addData').addEventListener('click', function () {
      data.labels.push(10);
      liczba = (Math.random() * 10)
      data.datasets[0].data.push(liczba);

      if (data.labels.length > 30) {
        data.datasets[0].data.shift();
        data.labels.shift();
      }
      myChart.update();
    });

    let myChart = new Chart(ctx1, {
      type: 'line',
      data: data,
      options: options
    });
  }
  renderChart();
</script>

<div class="module_wrapper" id="chart_module">
  <p class="module_name">Chart</p>
  <div class="module_content">
    <p class="module_description">Chart rendered using <a href="https://www.chartjs.org/">chart.js</a></p>
    <button class="small_red_button" id="addData">add data</button>
    <br><br>
    <canvas id="myChart" width="10" height="10"></canvas>
  </div>
</div>
</div>